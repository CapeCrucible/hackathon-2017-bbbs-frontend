<div class="split-container">
  <md-card *ngIf="!selectedLittle">
    <md-card-title>Select a little</md-card-title>
    <md-card-content>
      <app-user-list
        [users]="littles"
        (userSelected)="onLittleSelected($event)"
      ></app-user-list>
    </md-card-content>
  </md-card>

  <md-card *ngIf="selectedLittle">
    <md-card-title class="flex">
      <span>Little - {{ selectedLittle.user.firstName }} {{ selectedLittle.user.lastName}}</span>
      <span class="fill-remaining-space"></span>
      <span>
        <button md-button md-mini-fab (click)="deselectLittle()">
          <md-icon>close</md-icon>
        </button>
      </span>
      <span></span>
    </md-card-title>
    <img md-card-image src="http://via.placeholder.com/400">
    <md-card-content>
      <h3>Interests</h3>
      <p>
        <span *ngFor="let interest of selectedLittle.interests; let i = index">
          {{ interest.interestName }}{{ (i != selectedLittle.interests.length - 1) ? ',' : '' }}
        </span>
        <em *ngIf="selectedLittle.interests === null || selectedLittle.interests.length === 0">No interests provided</em>
      </p>
      <h3>Little Contact Information</h3>
      <p>Email: {{ selectedLittle.contactInfo?.email }}</p>
      <p>Phone Number: {{ selectedLittle.contactInfo?.phoneNumber }}</p>
      <p *ngIf="selectedLittle.address">
        {{ selectedLittle.address?.streetLine1 }}<br>
        {{ selectedLittle.address?.streetLine2 }}<br *ngIf="selectedLittle.address?.streetLine2">
        {{ selectedLittle.address?.city }}, {{ selectedLittle.address?.state }} {{ selectedLittle.address?.zipCode }}
      </p>
      <h3>Parent Contact Information</h3>
      <div *ngIf="selectedLittleParent">
        <p>Name: {{ selectedLittleParent.user?.firstName }} {{ selectedLittleParent.user?.lastName }}</p>
        <p>Email: {{ selectedLittleParent.contactInfo?.email }}</p>
        <p>Phone Number: {{ selectedLittleParent.contactInfo?.phoneNumber }}</p>
        <p *ngIf="selectedLittleParent.address">
          {{ selectedLittleParent.address?.streetLine1 }}<br>
          {{ selectedLittleParent.address?.streetLine2 }}<br *ngIf="selectedLittleParent.address?.streetLine2">
          {{ selectedLittleParent.address?.city }}, {{ selectedLittleParent.address?.state }} {{
          selectedLittleParent.address?.zipCode }}
        </p>
      </div>
    </md-card-content>
  </md-card>

  <md-card *ngIf="!selectedBig">
    <md-card-title>Select a big</md-card-title>
    <md-card-content>
      <app-user-list
        [users]="bigs"
        (userSelected)="onBigSelected($event)"
      ></app-user-list>
    </md-card-content>
  </md-card>

  <md-card *ngIf="selectedBig">
    <md-card-title class="flex">
      <span>Big - {{ selectedBig.user.firstName }} {{ selectedBig.user.lastName}}</span>
      <span class="fill-remaining-space"></span>
      <span>
        <button md-button md-mini-fab (click)="deselectBig()">
          <md-icon>close</md-icon>
        </button>
      </span>
      <span></span>
    </md-card-title>
    <img md-card-image src="http://via.placeholder.com/400">
    <md-card-content>
      <h3>Interests</h3>
      <p>
        <span *ngFor="let interest of selectedBig.interests; let i = index">
          {{ interest.interestName }}{{ (i != selectedBig.interests.length - 1) ? ',' : '' }}
        </span>
        <em *ngIf="selectedBig.interests === null || selectedBig.interests.length === 0">No interests provided</em>
      </p>
      <h3>Contact Information</h3>
      <p>Email: {{ selectedBig.contactInfo?.email }}</p>
      <p>Phone Number: {{ selectedBig.contactInfo?.phoneNumber }}</p>
      <p *ngIf="selectedBig .address">
        {{ selectedBig.address?.streetLine1 }}<br>
        {{ selectedBig.address?.streetLine2 }}<br *ngIf="selectedBig.address?.streetLine2">
        {{ selectedBig.address?.city }}, {{ selectedBig.address?.state }} {{ selectedBig.address?.zipCode }}
      </p>
    </md-card-content>
  </md-card>
</div>
<button md-raised-button *ngIf="selectedLittle && selectedBig" style="width: 100%; margin-top: 2em;" (click)="createMatch()">Create Match!</button>
